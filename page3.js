let productArr = [
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51euF9InRqL.jpg",
    name: "Global Health: An Introduction to Current and Future Trends",
    details:
      "Global Health continues to provide readers with a comprehensive, up-to-date and thought-provoking outline and understanding of the constantly evolving global health landscape. In this new edition the authors have maintained the successful structure and organisation of the previous edition to examine and explain recent health changes and consider likely future patterns. New or expanded topics covered include: emerging and re-emerging infectious disease threats increasing awareness of, and Interest in, antimicrobial resistance and superbugs terrorism, global conflict and health the new UN 2030 Agenda for Sustainable Development the drive for Universal Health Coverage (UHC) the use of information technology in global health substance abuse palliative and end-of-life-care ethical issues in global health",
    category: "Health",
    price: 2705,
    rating: 3.6,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41OHJfEnmCL.jpg",
    name: "Drug Update: A Compendium",
    details:
      "Presents recent updates and developments in medical Pharmacology. Medical science has seen an overwhelming boost in pharmacological advancements over the years. Awareness of medical developments is a significant step towards making a rational clinical decision. This compendium pools together recent innovations in medical Pharmacology under a single platform. In an effort to unburden the medical students, clinicians and academicians from the tremendous volume of medical literature, it provides a simple yet meticulous insight into the clinical and therapeutic aspects conforming to the newly approved drugs and safety updates",
    category: "Health",
    price: 8905,
    rating: 3.6,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/21H4HRq1QkL.jpg",
    name: "Davidson's Principles and Practice of Medicine",
    details: "Davidson's Principles and Practice of Medicine",
    category: "Health",
    price: 2200,
    rating: 3.6,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41Bhzk3uhuL.jpg",
    name: "Handbook of Counseling and Psychotherapy with Older Adults (Wiley Series in Adulthood and Aging)",
    details:
      "Handbook of Counseling and Psychotherapy with Older Adults Older adults are the fastest-growing segment of society and are entering therapy at an unprecedented rate. Editor Michael Duffy has brought together leading experts in geropsychology and older adult Counseling to discuss and offer practice strategies appropriate for this diverse population. The Handbook covers new research findings for clinical treatment, coverage of multiple treatment modalities, and clinical problems confronting older clients, including: Adjusting to role loss, leisure in late life, and retirement Developmental issues in Psychotherapy with older men Existential issues of hope and meaning in late life therapy Developing and enhancing the therapeutic alliance with older clients The impact of cultural differences in Psychotherapy with older clients Using reminiscence and life review as natural therapeutic strategies in groups Integrated group approaches with early stage Alzheimer's and their families Family disruption after Nursing home placement of onset of dementia patients: systemic dynamics and treatment Realizing power in intergenerational family hierarchies: when older adults decline",
    category: "Health",
    price: 7246,
    rating: 3.9,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41FgaCZ6u7L.jpg",
    name: "Digestive Disorders Ibs and Colitis",
    details:
      "Herbalism is the oldest, most widely practised form of medicine, and the most popular alternative to modern drugs. Learn about digestive disorders and find out how herbs can safely relieve and improve your overall health.",
    category: "Health",
    price: 4999,
    rating: 3.5,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51jiJMo3uJL.jpg",
    name: "The Transformational Power of Sound and Music",
    details:
      "Take a Historical journey through sacred and healing sound and Music practices from Ancient and indigenous cultures around the world. Discover remarkable practical applications--now proven by Contemporary Scientific research--for managing your mind, body, and spirit. In this book, learn how: Various percussive rhythms and pitches can shift brainwaves. Music tuned to A at 432 Hz creates feelings of peace and wellbeing. Sound can positively affect body chemistry, improving immunity to disease and diminishing the residual effects of trauma. Cancer cells die through exposure to ascending musical scales. Physical pain may be reduced or ended with vocal toning. The intention of a Music maker is discernibly conveyed to listeners.",
    category: "Music",
    price: 560,
    rating: 3.9,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/412RJzKCddL.jpg",
    name: "Trinity College London Drum Kit 2020-202",
    details:
      "Everything a drummer needs to prepare for the performance and technical work Components of Trinity drum kit exams in 2020 2023. Encompassing a wider range of styles than ever before, the syllabus allows candidates to follow distinct stylistic pathways jazz, funk, Latin, musical theatre with arrangements of well-known works sitting alongside pieces specifically written for the syllabus by leading drum kit educators and performers. Performance notes are included for each piece, along with new technical work rudiments and exercises for each grade, and backing tracks are included as a free download. Contents: Joyspring (Clifford Brown, arr. Clark Tracey) Mean Beanz (Chris Burgess) Bossa Favour (Mike Osborn) The Double Bubble Duchess from Charlie & The Chocolate Factory (Marc Shaiman & Scott Wittman, arr. Chris Burgess) Olé! (Mike Osborn) Three Line Whip (Mike Osborn) Spain (Chick Corea & Joaquin Rodrigo, arr. Clark Tracey) Helpless from Hamilton (Lin-Manuel Miranda, arr. Chris Burgess) Film Noir (Mike Osborn) Algo Latino (Clark Tracey) Step It Up (Chris Burgess) Kerfuffle Shuffle (Mike Osborn) The Buddy System from City of Angels (Cy Coleman & David Zippel, arr. Chris Burgess) Snidey Kitten (Mike Osborn) Where's Juan? (Mike Osborn) Footprints (Wayne Shorter, arr. Clark Tracey) Gimme Five (Chris Burgess) Barrak's Boogie (Mike Osborn)",
    category: "Music",
    price: 1477,
    rating: 3.8,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51cSlS7wH%2BL.jpg",
    name: "Sebastian and Sons: A Brief History of Mrdangam Makers",
    details:
      "The mrdangam is an integral part of the Karnatik stage, its primary percussion instrument. Yet—startling as this is— the instrument as we know it is only a century old. T.M. Krishna investigates the History of the mrdangam and meets the invisible keepers of a tradition: the mrdangam makers.The making process is an intellectually, aesthetically and physically taxing one. From acquiring the skins for the circular membranes and straps to the wood for the drum, from curing the material to the final construction, and at the end of it all, making sure that it has the tone that the mrdangam player wants, mrdangam-making is also a highly nuanced operation at every stage.While several artists have been credited with the evolution of the instrument, including the stalwart Palghat Mani Iyer, none of them had knowledge of a fundamental aspect of the making: hide. The quality of the hide and how it is cured, cut, stretched, bound and braided impacts the tone, timbre and sound of the instrument. This requires a highly tuned ear and an ability to translate abstract ideas expressed by musicians into the corporeal reality of a mrdangam. Yet, their contribution to the art of the mrdangam is dismissed as labour and repair—when it is spoken of at all.There are legendary mrdangam players, yes; there are also distinguished mrdangam makers, many of them from Dalit Christian communities, who remain on the fringes of the Karnatik community. Sebastian and Sons explores the world of these artists, their History, lore and lived experience to arrive at a more organic and holistic understanding of the music that the mrdangam makes.",
    category: "Music",
    price: 488,
    rating: 4.3,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51SRrII22XL.jpg",
    name: "Trinity College London Acoustic Guitar Exam Pieces 2020-2023",
    details:
      "Trinity's new Acoustic Guitar syllabus reinvents the popular Plectrum Guitar syllabus, keeping it vital and relevant to today's guitarist by giving teachers and learners the flexibility to develop fingerstyle and plectrum playing. A selection of the best-loved pieces from the previous syllabus has been retained at every grade for cont",
    category: "Music",
    price: 1171,
    rating: 5.0,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51IuED2tPgL.jpg",
    name: "Trinity College London Classical Guitar Exam Pieces 2020-2023: Grade 5",
    details:
      "This book contains a selection of ten pieces for Trinity Classical Guitar Grade 5 exams, carefully chosen, graded and edited for the 2020-2023 syllabus by a panel of experts. Encompassing a wide range of styles and including duets up to Grade 5, our progressive series offers teachers and learners a wealth of engaging repertoire",
    category: "Music",
    price: 893,
    rating: 4.3,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41WUpDpKwxL.jpg",
    name: "Music Theory Practice Papers 2019, ABRSM Grade 3 (Theory of Music Exam papers & answers (ABRSM))",
    details:
      "ABRSM's official Music Theory Practice Papers are essential resources for candidates preparing for ABRSM Music Theory exams. They provide authentic practice materials and are a reliable guide to what to expect in the exam. These Grade 3 Practice Papers have been adapted from the 2019 Music Theory exam papers and contain four Grade 3 papers to work through. A set of corresponding Model Answers is available separately",
    category: "Music",
    price: 358,
    rating: 4.6,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41Z7xo29bbL.jpg",
    name: "Breath of Gold: Hariprasad Chaurasia",
    details:
      "Fights, action, music, romance, secret trysts-renowned classical musician Pandit Hariprasad Chaurasia's life reads almost like a film script. Wrestler in the morning, student during the daytime and flute player in secret, he lived more than a double life through his early years, till he broke away from his wrestler father's watchful eye to join All India Radio as a flautist. His marriage, relocation to Bombay and his foray into films were events rich in drama. As were his meetings with other musical greats, including Pandit Shiv Kumar Sharma, his dearest friend and music partner, with whom he composed the music for films like Silsila, Lamhe and Chandni. His reminiscences about his journey as a student of the reclusive Annapurna Devi, daughter of the famed Allauddin Khan of Maihar, give deep insights into his nature as well as that of his guruma",
    category: "Music",
    price: 539,
    rating: 4.1,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51K6feGIx3L.jpg",
    name: "Music: A Subversive History",
    details:
      "From the dawn of civilization to the modern-day music scene, this breathtaking global History reveals how songs have shifted societies and sparked revolutions.Histories of music overwhelmingly suppress stories of the outsiders and rebels who created musical revolutions and instead celebrate the mainstream assimilators who borrowed innovations, diluted their impact, and disguised their sources. In Music: A Subversive History, historian Ted Gioia reclaims the story of music for the riffraff, insurgents, and provocateurs.Gioia tells a four-thousand-year History of music as a global source of power, change, and upheaval. He shows how social outcasts have repeatedly become trailblazers of musical expression: slaves and their descendants, for instance, have repeatedly reinvented music, from ancient times all the way to the jazz, reggae, and hip-hop sounds of the current day. Music: A Subversive History is essential reading for anyone interested in the meaning of music, from Sappho to the Sex Pistols to Spotify.",
    category: "Music",
    price: 1932,
    rating: 4.8,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41y3nKlyJxL.jpg",
    name: "How To Make It in the New Music Business - Practical Tips on Building a Loyal Following and Making a Living as a Musicia",
    details:
      "Hailed as an “indispensable” guide (Forbes), How to Make It in the New Music Business returns in this extensively revised and expanded edition. When How to Make It in the New Music Business hit shelves in 2016, it instantly became the go-to resource for musicians eager to make a living in a turbulent industry. Widely adopted by music schools everywhere and considered “the best how- to book of its kind” (Music Connection), it inspired thousands to stop waiting around for that “big break.” Now trusted as the leading expert for “do it yourself” artists, Ari Herstand returns with this second edition, maintaining that a stable career can be built by taking advantage of the many tools at our fi ngertips: conquering social media, mastering the art of merchandising, embracing authentic fan connection, and simply learning how to persevere. Comprehensively updated to include the latest online trends and developments, it offers inspiring success stories across media such as Spotify and Instagram. The result is a must- have for anyone hoping to navigate the increasingly complex yet advantageous landscape that is the modern music industry.",
    category: "Music",
    price: 1805,
    rating: 4.1,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41lYhPTNueL.jpg",
    name: "Symphonic Journey of Shankar Jaikishan",
    details:
      "Shankar Jaikishan (SJ) made a tumultuous debut, with a blockbuster hit Barsat, in 1949. They were young, did not belong to the elite strata of society. Their only capital was their infinite talent and burning desire. Their journey from Barsat to Gouri in 1989 was a sustained uphill journey. They broke all records of record sales and box office collections. At one point in their career, SJ was synonymous with Silver Jubilee. Forty jubilee hits, with Barsat Running for 100 plus weeks. They won nine Filmfare Awards and nominated almost every year, 1959 to 1974. This book covers their arduous journey of matchless success on a path of thorns. Dr. Dattatreya and Dr. Geetha Pujari, have covered this journey. They met Shankar a few times and had their script approved by the maestro, way back in 1984. They published this book in Hindi, Shankar Jaikishan ki Swar Sadhana. This was in 2002.",
    category: "Music",
    price: 299,
    rating: 4.2,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/41tzL-y%2B3ML.jpg",
    name: "Endless Song: Tiruvaymoli",
    details:
      "A dazzling translation of one of the most revered ancient Bhakti poemsThe Tiruvaymoli (sacred utterance or sacred truth) is a grand 1102-verse poem, composed in the ninth century by Sathakopan-Nammalvar, the greatest of the alvar poets. Ingeniously weaving a garland of words-where each beginning is also an ending-the poet traces his cyclical quest for union with the supreme lord, Visnu. In this magnificent translation, Archana Venkatesan transports the flavour and cadences of Tamil into English, capturing the different voices and range of emotions through which the poet expresses his enduring desire for release. The scholarly introduction illuminates the poem's kaleidoscopic brilliance and the traditions of devotional religiosity it inspire",
    category: "Music",
    price: 932,
    rating: 4.8,
  },
  {
    img: "https://images-eu.ssl-images-amazon.com/images/I/51mOpHxlUyL.jpg",
    name: "Prince Rogers Nelson's The Beautiful Ones",
    details:
      "From Prince himself comes the brilliant coming-of-age-and-into-superstardom story of one of the greatest artists of all time—featuring never-before-seen photos, original scrapbooks and lyric sheets, and the exquisite memoir he began writing before his tragic death. Prince was a musical genius, one of the most talented, beloved, accomplished, popular, and acclaimed musicians in pop history. But he wasn't only a musician—he was also a startlingly original visionary with an imagination deep enough to whip up whole worlds, from the sexy, gritty funk paradise of his early records to the mythical landscape of Purple Rain to the psychedelia of Paisley Park",
    category: "Music",
    price: 1039,
    rating: 4.3,
  },
];
displayfunction(productArr);

function displayfunction() {
  document.querySelector("#containerForBook").innerHTML = "";
  productArr.forEach(function (el) {
    let box = document.createElement("div");

    let box11 = document.createElement("div");
    box11.setAttribute("id", "box11");
    let proImgDiv = document.createElement("div");
    let proImg = document.createElement("img");
    proImg.setAttribute("src", el.img);
    proImgDiv.append(proImg);
    let proNameDiv = document.createElement("div");
    let proName = document.createElement("p");
    proName.innerText = el.name;
    proNameDiv.append(proName);
    box11.append(proImgDiv, proNameDiv);
    box11.addEventListener("click", function () {
      localStorage.setItem("currentPageData", JSON.stringify(el));

      location.href = "productPage.html";
    });

    let box12 = document.createElement("div");
    box12.setAttribute("id", "box12");
    let proCategory = document.createElement("div");
    proCategory.innerText = "Category :" + " " + el.category;
    let proRating = document.createElement("div");
    proRating.innerText = el.rating + " " + "✡";
    let proPrice = document.createElement("div");
    proPrice.innerText = "₹" + el.price;

    let buycart = document.createElement("div");
    buycart.setAttribute("id", "buycart");
    let proBuy = document.createElement("button");
    proBuy.innerText = "Buy Now";
    proBuy.addEventListener("click", function () {
      let cartData = JSON.parse(localStorage.getItem("buyCartData")) || [];
      if (cartDatapresent(cartData, el) === false) {
        cartData.push(el);
        localStorage.setItem("buyCartData", JSON.stringify(cartData));
      } else {
        alert("Item already in cart");
      }
      location.href = "cart.html"; // give cart page href
    });
    let proCart = document.createElement("button");
    proCart.innerText = "Add to Cart";
    proCart.addEventListener("click", function () {
      let cartData = JSON.parse(localStorage.getItem("buyCartData")) || [];
      if (cartDatapresent(cartData, el) === false) {
        cartData.push(el);
        localStorage.setItem("buyCartData", JSON.stringify(cartData));
        alert("Item successfully added to cart");
      } else {
        alert("Item already in cart");
      }
    });
    buycart.append(proBuy, proCart);
    box12.append(proCategory, proRating, proPrice, buycart);
    box.append(box11, box12);
    document.querySelector("#containerForBook").append(box);
  });

  function cartDatapresent(cartData, el) {
    for (let i = 0; i < cartData.length; i++) {
      if (cartData[i].name === el.name) {
        return true;
      }
    }
    return false;
  }
}
document.querySelector("#page2").addEventListener("click", function () {
  location.href = "page2.html"; //next page number 2 href
});
filterPrice.addEventListener("change", myPriceFilter);

function myPriceFilter() {
  let filterByPrice = document.querySelector("#filterPrice").value;
  if (filterByPrice == "SortbyPrice") {
    window.location.reload();
  } else if (filterByPrice == "LowToHigh") {
    productArr.sort(function (a, b) {
      return a.price - b.price;
    });
    displayfunction(productArr);
  } else if (filterByPrice == "HighToLow") {
    productArr.sort(function (a, b) {
      return b.price - a.price;
    });
    displayfunction(productArr);
  }
}

document
  .querySelector("#filterRating")
  .addEventListener("change", myfilterRating);

function myfilterRating() {
  let filterByRating = document.querySelector("#filterRating").value;
  if (filterByRating == "SortbyRating") {
    window.location.reload();
  } else if (filterByRating == "HighToLow") {
    productArr.sort(function (a, b) {
      return b.rating - a.rating;
    });
    displayfunction(productArr);
  } else if (filterByRating == "LowToHigh") {
    productArr.sort(function (a, b) {
      return a.rating - b.rating;
    });
    displayfunction(productArr);
  }
}
